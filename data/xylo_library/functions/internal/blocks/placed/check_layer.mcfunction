#> xylo_library:internal/blocks/placed/check_layer
# @context: player that just placed a custom block player head
# @within: xylo_library:internal/blocks/placed_block
#
# replaces any custom block player heads with their corresponding block
# located at @s rotated <aligned to cardinal direction> positioned ^-4 ^X ^-1, X = layer number - 4


execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^ ^ ^ if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^1 ^ ^ if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^2 ^ ^ if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^3 ^ ^ if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^4 ^ ^ if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^5 ^ ^ if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^6 ^ ^ if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^7 ^ ^ if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^8 ^ ^ if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place

execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^ ^ ^1 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^1 ^ ^1 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^2 ^ ^1 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^3 ^ ^1 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^4 ^ ^1 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^5 ^ ^1 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^6 ^ ^1 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^7 ^ ^1 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^8 ^ ^1 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place

execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^ ^ ^2 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^1 ^ ^2 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^2 ^ ^2 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^3 ^ ^2 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^4 ^ ^2 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^5 ^ ^2 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^6 ^ ^2 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^7 ^ ^2 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^8 ^ ^2 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place

execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^ ^ ^3 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^1 ^ ^3 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^2 ^ ^3 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^3 ^ ^3 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^4 ^ ^3 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^5 ^ ^3 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^6 ^ ^3 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^7 ^ ^3 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^8 ^ ^3 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place

execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^ ^ ^4 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^1 ^ ^4 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^2 ^ ^4 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^3 ^ ^4 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^4 ^ ^4 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^5 ^ ^4 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^6 ^ ^4 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^7 ^ ^4 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^8 ^ ^4 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place

execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^ ^ ^5 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^1 ^ ^5 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^2 ^ ^5 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^3 ^ ^5 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^4 ^ ^5 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^5 ^ ^5 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^6 ^ ^5 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^7 ^ ^5 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. positioned ^8 ^ ^5 if block ~ ~ ~ #xylo_library:player_heads{SkullOwner:{Properties:{textures:[{Signature:"xylo_library_block"}]}}} run function xylo_library:internal/blocks/placed/prep_place


scoreboard players add $layer_count xlib.internal.blocks.block_data 1
execute if score $player_head_count xlib.internal.blocks.block_data matches 1.. if score $layer_count xlib.internal.blocks.block_data matches ..10 positioned ~ ~1 ~ run function xylo_library:internal/blocks/placed/check_layer
